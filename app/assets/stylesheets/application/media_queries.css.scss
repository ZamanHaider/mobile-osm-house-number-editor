// This file was generated by html5-rails
// https://github.com/sporkd/html5-rails
//
// Media Query for Responsive Design.

/* This sheet contains:
 *   - 'default' styles,
 *   - mobile styles: '320' and '480'
 *   - tablet styles: '720'
 *   - desktop styles: '960' and over
 * Each media query overrides all the previous.
 * Each property should be set in the narrower set where it makes sense.
 */

/* SASS variables */

$almost-white: #fcfcfc;
$almost-gray: #383838;
$almost-gray-light: #444;
$darkgray: #222;
$gray: #333;
$gray-complement: #f0f0f0;
$lightgray: #aaa;
$mdn-yellow: #f8d575;
$mdn-blue: #0cf;
$mdn-red: #f33;
// For reference only: $width is also set in media queries.
$width: 100%;

/* Mixins */

@mixin center {
  margin-left: auto;
  margin-right: auto;
}

@mixin reset {
  margin: 0;
  padding: 0;
}

@mixin header-fit {
  background-color: $gray;
  color: $gray-complement;
  font-size: 1em;
  line-height: 1.3em;
  padding-bottom: 1em;
  padding-top: 1em;
}

@mixin index {
  content: "";
  border-color: transparent transparent $almost-white;
  border-style: solid;
  border-width: 5px;
  margin-left: -5px;
  position: absolute;
  left: 50%;
  bottom: 0;
}

@mixin insensitive {
  color: inherit;
  cursor: default;
  text-decoration: inherit;
}

/* Basic Typography */

html>body {
  font-family: "Ubuntu", sans-serif;
  font-size: 14px;
  line-height: 1.5em;
}

body {
  @include reset;
  font-size: 87.5%;
}

/* Basic Colors and Behavior */

a {
  &:hover, &:focus {
    color: $mdn-blue;
    text-decoration: underline;
  }
}

abbr {
  border-width: 0;
  cursor: help;
}

.field_with_errors {
  color: $mdn-red;
  font-weight: bold;
}

/* Basic Layout */

html, body {
  width: $width;
  height: 100%;
}

#wrapper {
  min-height: 100%;
  overflow: hidden;
  position: relative;
}

#header-wrapper,
div#main,
#map-wrapper,
aside,
footer {
  @include center;
  width: $width;
}

header {
  border-bottom: 1px solid $almost-gray;
  position: relative;
  width: 100%;
  h1 {
    font-size: 1em;
    margin: 0;
    padding: 0;
    text-align: center;
    a {
      @include header-fit;
      background-color: inherit;
      color: inherit;
      display: block;
      text-decoration: none;
      &:focus, &:hover {
        @include insensitive;
      }
    }
  }
}

nav {
  display: none;
}

div#main {
  margin-top: 1.8em;
  #banner {
    blockquote {
      margin-bottom: 1.714em; 
      margin-left: 4.592%; /* 15px / 320px */
      margin-right: 4.592%; /* 15px / 320px */
      margin-top: 1.714em;
      /* http://html5doctor.com/blockquote-q-cite/ */
      quotes: "\201C" "\201D"; /* english quotes */
      text-align: center;
      &::before {
        content: open-quote;
      }
      &::after {
        content: close-quote;
      }
    }
    #no-map-warning {
      border: 3px solid $almost-gray;
      margin-bottom: 1.22em;
      margin-left: 3.125%; /* 10px / 320px */
      margin-right: 3.125%; /* 10px / 320px */
      p {
        margin-left: 3.333%; /* 10px / 300px */
        margin-right: 3.333%; /* 10px / 300px */
      }
    }
  }
}

#map {
  display: none; /* Does Leaflet still load any tile? */
}

#form-wrapper {
  #form-wrapper-inner {
    border: 1px solid $almost-gray;
    margin-left: 3.125%; /* 10px / 320px */
    margin-right: 3.215%; /* 10px / 320px */
    form {
      margin-left: 3.333%; /* 10px / 300px */
      margin-right: 3.333%; /* 10px / 300px */
      overflow: hidden;
      .field {
        position: relative;
        label {
          display: block;
          margin-top: .5em;
        }
        label, input {
          width: 95%; /* arbitrary, inputs have borders */
        }
        &#submit, &#preview {
          float: right;
          margin-bottom: 1em;
          margin-top: 2em;
          width: 50%;
          input, button {
            font-size: 1.143em; /* 16px / 14px */
            width: 100%;
          }
        }
        &#preview {
          display: none; /* The map is not displayed! */
        }
        &#submit {
          border-top: 1px dashed $almost-gray;
          margin-top: 1em;
          padding-top: 1em;
          width: 100%;
          input {
            width: 50%;
          }
        }
        &.hint {
          display: none;
        }
      }
    }
  }
}

aside {
  margin-top: 0;
  margin-bottom: 0;
  overflow: hidden;
  section {
    margin: 0 3.125%; /* 10px / 320px (2 gutters) */
    h1, h2 {
      border-bottom: 1px solid $almost-gray;
      font-size: 1.143em; /* 16px / 14px */
      margin: 1em 0 .5em;
      a {
        color: inherit;
        text-decoration: none;
      }
    }
    p {
      margin-bottom: .5em;
      margin-top: .5em;
    }
    #qr-wrapper {
      display: none;
    }
  }
}

footer {
  border-top: 1px dashed $almost-gray;
  margin-top: 2.5em;
  width: 100%;
  div {
    font-size: .86em;
    line-height: 1.5em;
    margin: 0 3.125%; /* 10px / 320px (2 gutters) */
  }
}

/* *** */

@media (min-width: 320px) {

  $width: 320px;

  body {
    background-color: $gray;
    color: $gray-complement;
  }

  #header-wrapper,
  div#main,
  #map-wrapper,
  aside {
    width: $width;
  }

  #header-wrapper {
    overflow: hidden;
  }

  header {
    background: $gray image_url('shared/isotype-32.png') no-repeat 10px center;
    overflow: hidden;
    z-index: 8;
    h1 {
      float: left;
      text-align: auto;
      a {
        @include header-fit;
        display: block;
        margin-bottom: 0;
        margin-left: 48px; /* 10px + (image) 32px + 6px */
        margin-right: 10px; /* arbitrary */
        margin-top: 0;
      }
    }
  }

  nav {
    display: none; /* temporary */
  }

  div#main {
    clear: both;
    min-height: 480px; /* arbitrary (assume 320x480 pixels display) */
    margin-bottom: 11em; /* footer approximative height */
    margin-top: auto;
    position: relative;
    #banner {
      display: none;
      #no-map-warning {
        display: none;
      }
    }
    #map-wrapper {
      height: 100%;
      left: 0;
      position: absolute;
      top: 0;
      width: $width;
      #map {
        display: block;
        height: 100%;
        &::before {
          content: "";
          position: absolute;
          border-color: rgba(27,27,27,.8) transparent transparent;
          border-style: solid;
          border-width: 20px;
          left: 50%;
          margin-left: -20px;
          margin-top: -20px;
          top: 50%;
          z-index: 3;
        }
        &::after {
          content: "";
          position: absolute;
          border-color: $gray transparent transparent;
          border-style: solid;
          border-width: 40px 20px;
          left: 50%;
          margin-left: -20px;
          margin-top: -40px;
          top: 50%;
          z-index: 3;
        }
      }
      #form-wrapper {
        height: 50%;
        position: absolute;
        top: 0;
        width: 100%;
        z-index: 2;
        #form-wrapper-inner {
          background-color: rgba(27,27,27,.8);
          border-width: 0;
          bottom: 8.333%; /* 20px / 240px */
          height: 91.667%; /* 220px / 240px */
          margin-left: auto;
          margin-right: auto;
          position: absolute;
          width: 100%;
          form {
            background-color: $gray;
            bottom: 9.091%; /* 20px / 220px */
            height: 90.909%; /* 200px / 220px */
            margin-left: auto;
            margin-right: auto;
            position: absolute;
            width: 100%;
            z-index: 3;
            .field {
              margin: 5px auto;
              overflow: hidden;
              width: auto;
              label {
                float: left;
                font-size: .86em;
                margin: 2px 1.063% 2px 3.125%; /* 5px and 10px / 320px */
                width: 30%;
              }
              input {
                display: block;
                float: right;
                margin: auto 3.125% auto 1.063%; /* 10px and 5px / 320px */
                text-align: center;
                width: 55%;
              }
              &#housenumber {
                margin-top: 1em;
                label {
                  margin-bottom: .5em;
                  margin-top: .5em;
                }
                input {
                  font-size: 1.5em;
                }
              }
              &.hint {
                display: block;
                label {
                  margin-right: 3.125%; /* 10px / 320px */
                  width: 93.5%;
                }
              }
              &#preview, &#submit {
                margin-bottom: .5em;
                margin-top: .5em;
              }
              &#preview {
                display: block;
                margin-left: 3.125%; /* 10px / 320px */
                margin-right: 1.067%; /* 5px / 320px */
                width: 30%;
                button {
                  font-size: auto;
                  margin-bottom: 5px;
                  margin-top: 4px;
                  width: 90%;
                }
              }
              &#submit {
                border-top-width: 0;
                margin-left: 1.067%; /* 5px / 320px */
                margin-right: 3.125%; /* 10px / 320px */
                padding-top: 0; /* 'auto' is not allowed for padding */
                width: 55%;
                input {
                  font-size: 1.5em;
                  width: 90%;
                }
              }
            }
          }
        }
      }
    }
  }

  aside {
    display: none;
    a {
      color: $mdn-blue;
    }
    section {
      h1, h2 {
        border-bottom-width: 0;
        font-size: 1.714em; /* 24px / 14px */
        margin: 1em 0;
        a {
          color: $gray-complement;
        }
      }
      &#alpha h1 {
        color: $mdn-red;
      }
      p {
        //margin-bottom: auto; /* ? */
        //margin-top: auto; /* ? */
      }
    }
  }

  footer {
    border-top-width: 0;
    bottom: 0;
    margin-top: auto;
    position: absolute;
    div {
      @include center;
      background-color: inherit;
      border-top: 1px solid $almost-gray;
      color: $lightgray;
      margin: 2.5em auto 1em;
      overflow: hidden;
      /* footer div position should be set and is absolute by default */
      width: $width;
      p, small {
        float: left;
        margin: 1em .5em 0;
        a {
          color: $mdn-blue;
        }
      }
    }
  }
}

@media (min-width: 480px) {}

@media (min-width: 720px) {}

@media (min-width: 960px) {

  $width: 960px;

  #header-wrapper {
    width: $width;
  }

  header {
    border-width: 0;
    float: left;
    width: auto;
    h1 a::before {
      color: $mdn-yellow;
      content: "Mobile! ";
    }
  }

  nav {
    display: block; /* temporary */
    float: right;
    ul {
      @include reset;
      float: right;
      list-style: none;
      width: 100%;
      li {
        float: left;
        a {
          @include header-fit;
          display: block;
          height: 100%;
          margin-left: .5em;
          margin-right: .5em;
          position: relative;
          text-decoration: none;
          #help_page &#help_link {
            &::after {
              @include index;
            }
            &:focus, &:hover {
              @include insensitive;
            }
          }
        }
      }
    }
  }

  div#main {
    clear: both;
    margin-bottom: 6em; /* footer approximative height */
    width: 100%;
    #banner {
      @include center;
      background-color: $almost-white;
      color: $almost-gray;
      display: block;
      min-height: 80px; /* arbitrary */
      padding-bottom: .5em;
      padding-top: .5em;
      width: 100%; /* full screen width */
      blockquote {
        font-size: 1.143em; /* 16px / 14px */
        line-height: 1.714em;
      }
      #help_page & {
        height: 2px;
        min-height: inherit;
      }
    }
    article {
      @include center;
      width: $width;
    }
    #map-wrapper {
      clear: both;
      display: block;
      min-height: 320px; /* quite arbitrary */
      position: relative;
      width: 100%;
      #map {
        height: 100%;
        min-height: inherit;
        position: relative;
        &::before {
          border-color: transparent transparent transparent rgba(27,27,27,.8);
        }
        &::after {
          border-color: transparent transparent transparent $darkgray;
          border-width: 20px 40px;
          margin-left: -40px;
          margin-top: -20px;
        }
      }
      #form-wrapper {
        height: 100%; 
        position: absolute;
        top: 0;
        width: 50%;
        #form-wrapper-inner {
          -webkit-border-radius: 20px;
             -moz-border-radius: 20px;
              -ms-border-radius: 20px;
               -o-border-radius: 20px;
                  border-radius: 20px;
          float: right;
          height: auto;
          margin-right: 40px;
          margin-top: 2em; /* arbitrary */
          max-width: 440px; /* ( 50% of 960px ) - 40xp (margin right) */
          position: absolute;
          bottom: auto;
          right: -20px;
          top: 0;
          width: auto;
          form {
            background-color: $darkgray;
            color: $gray-complement;
            -webkit-border-radius: 15px;
               -moz-border-radius: 15px;
                -ms-border-radius: 15px;
                 -o-border-radius: 15px;
                    border-radius: 15px;
            height: auto;
            margin: 20px; /* transparent border width, see #map::after and ::before */
            //min-height: 230px;
            overflow: hidden;
            padding-top: 3px;
            position: relative;
            bottom: auto;
            width: auto;
            .field {
              margin: 5px auto;
              overflow: hidden;
              width: auto;
              label {
                display: block;
                float: none;
                font-size: .86em;
                margin-bottom: 2px 10px;
                position: relative;
                width: auto;
              }
              input {
                margin: auto 10px;
                position: relative;
                text-align: center;
                width: 12em;
              }
              &#housenumber {
                label {
                  margin-bottom: auto;
                  margin-top: auto;
                }
                input {
                  display: block;
                  font-size: 32px;
                  font-weight: normal;
                  margin-bottom: auto;
                  margin-top: auto;
                  text-align: center;
                  width: 8em;
                }
              }
              &#lat, &#lon {
                margin: 5px auto;
                overflow: hidden;
              }
              &#lat label, &#lon label {
                float: left;
              }
              &#lat input, &#lon input {
                display: block;
                float: right;
              }
              &#preview, &#submit {
                float: right;
                margin: auto;
                width: auto;
              }
              &#preview button {
                background-color: inherit;
                border-width: 0;
                color: inherit;
                cursor: pointer;
                float: right;
                margin: 10px 10px 20px;
                padding: 3px 4px 8px;
                text-decoration: underline;
                width: auto;
                &:focus, &:hover {
                  background-color: inherit;
                  color: $mdn-yellow;
                }
              }
              &#submit input {
                float: right;
                font-size: inherit;
                margin: 7px 10px 20px;
                padding: 4px 10px;
                width: auto;
              }
            }
          }
        }
      }
    }
  }

  aside {
    display: block;
    width: $width;
    section {
      float: left;
      width: 31.250%; /* 300px / 960px (4 columns) */
      margin: 0 1.042%; /* 10px / 960px (2 gutters) */
      #qr-wrapper {
        border-top: 1px dashed $almost-gray-light;
        display: block;
        margin-top: 2.5em;
        overflow: hidden;
        h2 {
          position: absolute;
          left: -9999px;
        }
        p, #qr-wrapper-inner {
          float: left;
          margin-left: 0;
          margin-right: 1.667%; /* 5px / 300px */
          width: 48.333%; /* 145px / 300px */
        }
        p {
          position: relative;
          &::before {
            background: transparent image_url('shared/qr-64-soft-border.png') no-repeat center center;
            content: "";
            height: 100%;
            left: 103.333%; /* 100% + 10px / 300px */
            position: absolute;
            width: 100%; /* 145px */
          }
        }
      }
    }
  }

  footer {
    div {
      width: $width;
      p, small {
        margin-bottom: 1em;
      }
    }
  }
}
/* EOF */
